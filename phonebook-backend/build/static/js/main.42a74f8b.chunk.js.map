{"version":3,"sources":["services/Notes.js","components/Adder.js","components/Numbers.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newNote","post","id","delete","note","put","Adder","addPerson","entry","nameChanged","phoneChanged","onSubmit","value","name","onChange","number","type","Numbers","persons","filter","removeFunc","person","includes","map","onClick","Filter","setFilter","event","preventDefault","target","Notification","notification","message","className","isError","App","useState","setPersons","newEntry","setNewEntry","setNotification","resetEntry","defineNotification","msg","isErr","setTimeout","updatePerson","noteService","updated","useEffect","notes","console","log","find","window","confirm","concat","catch","error","error_msg","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6MAEMA,EAAU,eAuBD,EArBA,WACX,OAAOC,IAAMC,IAAIF,GACJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmB5B,EAhBA,SAACC,GACZ,OAAOL,IAAMM,KAAKP,EAASM,GACdH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAc5B,EAXA,SAACG,GACZ,OAAOP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IACrBL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAS5B,EANA,SAACG,EAAIE,GAChB,OAAOT,IAAMU,IAAN,UAAaX,EAAb,YAAwBQ,GAAME,GACxBP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCA5BO,EAnBD,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,UAAWC,EAAuC,EAAvCA,MAAOC,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,aAC9C,OACE,gCACE,2CACA,uBAAMC,SAAUJ,EAAhB,UACE,yCACQ,uBAAOK,MAAOJ,EAAMK,KAAMC,SAAUL,OAE5C,2CACU,uBAAOG,MAAOJ,EAAMO,OAAQD,SAAUJ,OAEhD,8BACE,wBAAQM,KAAK,SAAb,0BCIKC,EAhBC,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,WAClC,OACE,gCACE,yCACCF,EACEC,QAAO,SAACE,GAAD,OAAYA,EAAOR,KAAKS,SAASH,MACxCI,KAAI,SAACF,GAAD,OACH,8BACGA,EAAOR,KADV,IACiBQ,EAAON,OAAQ,IAC9B,wBAAQS,QAAS,kBAAMJ,EAAWC,IAAlC,sBAFMA,EAAOnB,WCYVuB,EAnBA,SAAC,GAA2B,IAAzBN,EAAwB,EAAxBA,OAAQO,EAAgB,EAAhBA,UAUxB,OACE,uBAAMf,SALS,SAACgB,GAChBA,EAAMC,kBAIN,UACE,wCACA,sDACA,uBAAOhB,MAAOO,EAAQL,SAbF,SAACa,GACvBA,EAAMC,iBACNF,EAAUC,EAAME,OAAOjB,cCOZkB,EAVM,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACpB,OAA4B,MAAxBA,EAAaC,QACN,KAGJ,qBAAKC,UAAWF,EAAaG,QAAU,QAAU,OAAjD,SACFH,EAAaC,WCiHPG,EAlHH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTlB,EADS,KACAmB,EADA,OAEgBD,mBAAS,CAAEvB,KAAM,GAAIE,OAAQ,KAF7C,mBAETuB,EAFS,KAECC,EAFD,OAGYH,mBAAS,IAHrB,mBAGTjB,EAHS,KAGDO,EAHC,OAIwBU,mBAAS,CAAEJ,QAAS,KAAME,SAAS,IAJ3D,mBAITH,EAJS,KAIKS,EAJL,KAMVC,EAAa,WACjBF,EAAY,CAAE1B,KAAM,GAAIE,OAAQ,MAO5B2B,EAAqB,SAACC,EAAKC,GAC/BJ,EAAgB,CAAER,QAASW,EAAKT,QAASU,IACzCC,YAAW,WALXL,EAAgB,CAAER,QAAS,KAAME,SAAS,MAOvC,MAkDCY,EAAe,SAACzB,GACpB0B,EAAmB1B,EAAOnB,GAAIoC,GAAUzC,MAAK,SAACmD,GAC5CX,EACEnB,EAAQK,KAAI,SAACF,GAAD,OACVA,EAAOR,OAASmC,EAAQnC,KAAOmC,EAAU3B,MAG7CqB,EAAmB,GAAD,OAAIrB,EAAOR,KAAX,gBAA8B,GAChD4B,QAsBJ,OAFAQ,qBA3EoB,WAClBF,IAAqBlD,MAAK,SAACqD,GACzBb,EAAWa,GACXC,QAAQC,IAAIF,QAwEO,IAGrB,gCACE,2CACA,cAAC,EAAD,CAAcnB,aAAcA,IAC5B,cAAC,EAAD,CAAQZ,OAAQA,EAAQO,UAAWA,IACnC,cAAC,EAAD,CACEnB,UA5EY,SAACoB,GACjBA,EAAMC,iBACN,IAAMP,EAASH,EAAQmC,MAAK,SAAChC,GAAD,OAAYA,EAAOR,OAASyB,EAASzB,QAE7DQ,EACkBiC,OAAOC,QAAP,UACfjB,EAASzB,KADM,4DAIlBiC,EAAazB,GAGf0B,EAAmBT,GAClBzC,MAAK,SAACG,GACLqC,EAAWnB,EAAQsC,OAAOxD,IAC1B0C,EAAmB,GAAD,OAAI1C,EAAQa,KAAZ,cAA6B,GAC/C4B,OAEDgB,OAAM,SAAAC,GACL,IAAMf,EAAMe,EAAM5D,SAASC,KAAK4D,UAChCjB,EAAmB,6CAAD,OAA8CC,IAAO,OAyDvEnC,MAAO8B,EACP7B,YA1BgB,SAACkB,GACrB,IAAMnB,EAAK,2BACN8B,GADM,IAETzB,KAAMc,EAAME,OAAOjB,QAErB2B,EAAY/B,IAsBRE,aAnBiB,SAACiB,GACtB,IAAMnB,EAAK,2BACN8B,GADM,IAETvB,OAAQY,EAAME,OAAOjB,QAEvB2B,EAAY/B,MAgBV,cAAC,EAAD,CAASU,QAASA,EAASC,OAAQA,EAAQC,WAxD1B,SAACC,GACAiC,OAAOC,QAAP,gCAAwClC,EAAOR,KAA/C,OAElBkC,EAAmB1B,EAAOnB,IACdL,MAAK,WACHwC,EAAWnB,EAAQC,QAAO,SAACX,GAAD,OAAWA,EAAMN,KAAOmB,EAAOnB,OACzDwC,EAAmB,GAAD,OAAIrB,EAAOR,KAAX,gBAA8B,MAC/C4C,OAAM,SAAAC,GACPP,QAAQC,IAAIM,GACZrB,EAAWnB,EAAQC,QAAO,SAACX,GAAD,OAAWA,EAAMN,KAAOmB,EAAOnB,OACzDwC,EAAmB,4CAA4C,a,MCjEnFkB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.42a74f8b.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n                .then(response => response.data)\r\n}\r\n\r\nconst create = (newNote) => {\r\n    return axios.post(baseUrl, newNote)\r\n                .then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n                .then(response => response.data)\r\n}\r\n\r\nconst update = (id, note) => {\r\n    return axios.put(`${baseUrl}/${id}`, note)\r\n                .then(response => response.data)\r\n} \r\n\r\n\r\nexport default { getAll, create, remove, update }","import React from \"react\";\r\n\r\nconst Adder = ({ addPerson, entry, nameChanged, phoneChanged }) => {\r\n  return (\r\n    <div>\r\n      <h2>Add a new</h2>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={entry.name} onChange={nameChanged} />\r\n        </div>\r\n        <div>\r\n          number: <input value={entry.number} onChange={phoneChanged} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Adder;\r\n","import React from \"react\";\r\n\r\nconst Numbers = ({ persons, filter, removeFunc }) => {\r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      {persons\r\n        .filter((person) => person.name.includes(filter))\r\n        .map((person) => (\r\n          <p key={person.id}>\r\n            {person.name} {person.number}{\" \"}\r\n            <button onClick={() => removeFunc(person)}>delete</button>\r\n          </p>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Numbers;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ filter, setFilter }) => {\r\n  const onFilterChanged = (event) => {\r\n    event.preventDefault();\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <h2>Filter</h2>\r\n      <span>filter shown with </span>\r\n      <input value={filter} onChange={onFilterChanged}></input>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react'\r\n\r\nconst Notification = ({ notification }) => {\r\n    if (notification.message == null) {\r\n        return null;\r\n    }\r\n\r\n    return <div className={notification.isError ? \"error\" : \"info\"}>\r\n        {notification.message}\r\n    </div>\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from \"react\";\r\nimport noteService from \"./services/Notes\";\r\nimport Adder from \"./components/Adder\";\r\nimport Numbers from \"./components/Numbers\";\r\nimport Filter from \"./components/Filter\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newEntry, setNewEntry] = useState({ name: \"\", number: \"\" });\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [notification, setNotification] = useState({ message: null, isError: false });\r\n\r\n  const resetEntry = () => {\r\n    setNewEntry({ name: \"\", number: \"\" });\r\n  };\r\n\r\n  const resetNotification = () => {\r\n    setNotification({ message: null, isError: false })\r\n  };\r\n\r\n  const defineNotification = (msg, isErr) => {\r\n    setNotification({ message: msg, isError: isErr });\r\n    setTimeout(() => {\r\n      resetNotification()\r\n    }, 5000)\r\n  }\r\n\r\n  const personsHook = () => {\r\n    noteService.getAll().then((notes) => {\r\n      setPersons(notes);\r\n      console.log(notes);\r\n    });\r\n  };\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const person = persons.find((person) => person.name === newEntry.name);\r\n\r\n    if (person) {\r\n      const isConfirmed = window.confirm(\r\n        `${newEntry.name} is already added to phonebook. Do you want to update?`\r\n      );\r\n      if (isConfirmed) {\r\n        updatePerson(person);\r\n      }\r\n    } else {\r\n      noteService.create(newEntry)\r\n      .then((newNote) => {\r\n        setPersons(persons.concat(newNote));\r\n        defineNotification(`${newNote.name} is added`, false)\r\n        resetEntry();\r\n      })\r\n      .catch(error => {\r\n        const msg = error.response.data.error_msg\r\n        defineNotification(`Oops, something went wrong when removing: ${msg}`, true)\r\n      })\r\n    }\r\n  };\r\n\r\n  const removePerson = (person) => {\r\n    const isConfirmed = window.confirm(`Do you want to delete ${person.name}?`);\r\n    if (isConfirmed) {\r\n      noteService.remove(person.id)\r\n                 .then(() => {\r\n                    setPersons(persons.filter((entry) => entry.id !== person.id));\r\n                    defineNotification(`${person.name} is removed`, false)\r\n                  }).catch(error => {\r\n                    console.log(error);\r\n                    setPersons(persons.filter((entry) => entry.id !== person.id));\r\n                    defineNotification(\"Oops, something went wrong when removing\", true)\r\n                  })\r\n    }\r\n  };\r\n\r\n  const updatePerson = (person) => {\r\n    noteService.update(person.id, newEntry).then((updated) => {\r\n      setPersons(\r\n        persons.map((person) => \r\n          person.name === updated.name ? updated : person\r\n        )\r\n      );\r\n      defineNotification(`${person.name} is updated`, false)\r\n      resetEntry();\r\n    });\r\n  };\r\n\r\n  const onNameChanged = (event) => {\r\n    const entry = {\r\n      ...newEntry,\r\n      name: event.target.value,\r\n    };\r\n    setNewEntry(entry);\r\n  };\r\n\r\n  const onPhoneChanged = (event) => {\r\n    const entry = {\r\n      ...newEntry,\r\n      number: event.target.value,\r\n    };\r\n    setNewEntry(entry);\r\n  };\r\n\r\n  useEffect(personsHook, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notification notification={notification} />\r\n      <Filter filter={filter} setFilter={setFilter} />\r\n      <Adder\r\n        addPerson={addPerson}\r\n        entry={newEntry}\r\n        nameChanged={onNameChanged}\r\n        phoneChanged={onPhoneChanged}\r\n      />\r\n      <Numbers persons={persons} filter={filter} removeFunc={removePerson} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './style/style.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}